- throw some exceptions if parse_options isn't provided properly.
- fix lint
